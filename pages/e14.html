

<!doctype html>

<!-- View these pages here:  https://grubbcode.github.io/minplot/  -->

<head>
<title>minplot.py on GitHub</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" type="text/css" href="../static/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="../static/css/pack1.css">

<script src="../static/js/jquery-1.11.3.min.js"></script>
<script src="../static/js/bootstrap.min.js"></script>

</head>

<body text="000000" link="5533aa" vlink="5533aa" alink="5533aa" bgcolor="ffffff">




  
<nav role="navigation" class="navbar navbar-default navbar-static-top" >    


    <div class="container">
        
        <div class="navbar-header">
            <button type="button" data-target="#navbarCollapse" data-toggle="collapse" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            
            <br><br>
        </div>

        
        
    </div>
</nav>




<div class="container">  


<style>
  
</style>

<div class="row">
<div class="col-md-1"></div>

<div class="col-md-10">
<h3><a href="examplist.html">minplot examples</a>: &nbsp; Example 14</h3>


<svg width="700" height="300" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<!-- SVG graphic by minplot -->
<polyline points="100,220 100,20" stroke="#aaa"  />
<polyline points="100,20 100,220" stroke="#aaa"  />
<polyline points="100,20 95,20" stroke="#aaa"  />
<polyline points="100,60 95,60" stroke="#aaa"  />
<polyline points="100,100 95,100" stroke="#aaa"  />
<polyline points="100,140 95,140" stroke="#aaa"  />
<polyline points="100,180 95,180" stroke="#aaa"  />
<polyline points="100,220 95,220" stroke="#aaa"  />
<text x="93" y="45" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="end" >Trial1</text>
<text x="93" y="85" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="end" >Trial2</text>
<text x="93" y="125" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="end" >Trial3</text>
<text x="93" y="165" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="end" >Trial4</text>
<text x="93" y="205" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="end" >Trial5</text>
<polyline points="100,220 100,20" stroke="#aaa"  />
<polyline points="175,220 175,20" stroke="#aaa"  />
<polyline points="250,220 250,20" stroke="#aaa"  />
<polyline points="325,220 325,20" stroke="#aaa"  />
<polyline points="400,220 400,20" stroke="#aaa"  />
<text x="100" y="236.67" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="middle" >0</text>
<text x="175" y="236.67" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="middle" >50</text>
<text x="250" y="236.67" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="middle" >100</text>
<text x="325" y="236.67" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="middle" >150</text>
<text x="400" y="236.67" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="middle" >200</text>
<rect x="100.0" y="31" width="49.50" height="18" fill="#8d8" opacity="0.5"/>
<rect x="149.5" y="31" width="73.50" height="18" fill="#88d" opacity="0.5"/>
<rect x="223.0" y="31" width="112.50" height="18" fill="#d88" opacity="0.5"/>
<rect x="100.0" y="71" width="52.50" height="18" fill="#8d8" opacity="0.5"/>
<rect x="152.5" y="71" width="66" height="18" fill="#88d" opacity="0.5"/>
<rect x="218.5" y="71" width="105" height="18" fill="#d88" opacity="0.5"/>
<rect x="100.0" y="111" width="45" height="18" fill="#8d8" opacity="0.5"/>
<rect x="145.0" y="111" width="76.50" height="18" fill="#88d" opacity="0.5"/>
<rect x="221.5" y="111" width="100.50" height="18" fill="#d88" opacity="0.5"/>
<rect x="100.0" y="151" width="51" height="18" fill="#8d8" opacity="0.5"/>
<rect x="151.0" y="151" width="87" height="18" fill="#88d" opacity="0.5"/>
<rect x="238.0" y="151" width="99" height="18" fill="#d88" opacity="0.5"/>
<rect x="100.0" y="191" width="40.50" height="18" fill="#8d8" opacity="0.5"/>
<rect x="140.5" y="191" width="112.50" height="18" fill="#88d" opacity="0.5"/>
<rect x="253.0" y="191" width="94.50" height="18" fill="#d88" opacity="0.5"/>
<rect x="369.0" y="30.67" width="6" height="6" fill="#8d8" />
<text x="380" y="36.67" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777" >Group1</text>
<rect x="369.0" y="49" width="6" height="6" fill="#88d" />
<text x="380" y="55" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777" >Group2</text>
<rect x="369.0" y="67.33" width="6" height="6" fill="#d88" />
<text x="380" y="73.33" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777" >Group3</text>
</svg>


<br>


<br>




<pre><span class="purple">

import minplot as p

def example14():          # horizontal stacked bars
   
    colnames = [ 'trial', 'group1', 'group1sem', 'group2', 'group2sem', 'group3', 'group3sem' ]

    dataset = [ (  'Trial1', 33, 2.4, 49, 4.3, 75, 5.8 ),
                (  'Trial2', 35, 3.1, 44, 3.9, 70, 6.1 ),
                (  'Trial3', 30, 2.8, 51, 3.2, 67, 4.0 ),
                (  'Trial4', 34, 3.7, 58, 3.8, 66, 3.9 ),
                (  'Trial5', 27, 5.0, 75, 6.2, 63, 8.2 ) ]

    p.svgbegin( width=700, height=300 )

    p.datacolumns( namelist=colnames )

    trials = p.catinfo( datarows=dataset, catcol='trial' )   # get the list of Trial category labels
    p.catspace( axis='y', catlist=trials.catlist, poslo=80, poshi=280 )  # categorical space in Y
    
    # set up the X numerically scaled space... 
    p.numspace( axis='x', axmin=0, axmax=200, poslo=100, poshi=400 )

    # render X and Y axes...  
    p.lineprops( color='#aaa' )
    p.textprops( ptsize=12, color='#777', cssstyle='font-family: sans-serif; font-weight: bold;' )  
    p.axisrender( axis='y', tics=5, stubs=True )
    p.axisrender( axis='x', axisline=False, grid=True )

    # render the horizontal stacked bars
    for row in dataset:
        trialname = row[ p.index( 'trial' ) ]
        base = 0
        for group in ['group1', 'group2', 'group3']:
            # select color 
            if group == 'group1': barcolor='#8d8'
            elif group == 'group2': barcolor = '#88d'
            elif group == 'group3': barcolor = '#d88'

            col = p.index( group )

            # with horizontal bars, the sense of x, y arg names are swapped
            p.bar( horiz=True, x=trialname, y=base+row[col], ybase=base, color=barcolor, width=18, opacity=0.5 )

            base += row[col]   # starting location of next stacked bar 

    # define and display the legend...
    p.legenditem( label='Group1', sample='square', color='#8d8', width=100 )
    p.legenditem( label='Group2', sample='square', color='#88d', width=100 )
    p.legenditem( label='Group3', sample='square', color='#d88', width=100 )
    p.legendrender( location='top', xadjust=260 )

    return p.svgresult()
</span></pre>

</div>

</div> 
</div> 

</body>
</html>