

<!doctype html>

<!-- View these pages here:  https://grubbcode.github.io/minplot/  -->

<head>
<title>minplot.py on GitHub</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" type="text/css" href="../static/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="../static/css/pack1.css">

<script src="../static/js/jquery-1.11.3.min.js"></script>
<script src="../static/js/bootstrap.min.js"></script>

</head>

<body text="000000" link="5533aa" vlink="5533aa" alink="5533aa" bgcolor="ffffff">




  
<nav role="navigation" class="navbar navbar-default navbar-static-top" >    


    <div class="container">
        
        <div class="navbar-header">
            <button type="button" data-target="#navbarCollapse" data-toggle="collapse" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            
            <br><br>
        </div>

        
        
    </div>
</nav>




<div class="container">  


<style>
  
</style>

<div class="row">
<div class="col-md-1"></div>

<div class="col-md-10">
<h3><a href="examplist.html">minplot examples</a>: &nbsp; Example 6</h3>


<svg width="550" height="450" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<!-- SVG graphics by minplot (on github.com) -->
<text x="100" y="376.67" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="middle" >0</text>
<text x="146.15" y="376.67" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="middle" >3</text>
<text x="192.31" y="376.67" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="middle" >6</text>
<text x="284.62" y="376.67" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="middle" >12</text>
<text x="469.23" y="376.67" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="middle" >24</text>
<polyline points="80,350 500,350" stroke="#aaa"  />
<polyline points="80,290 500,290" stroke="#aaa"  />
<polyline points="80,230 500,230" stroke="#aaa"  />
<polyline points="80,170 500,170" stroke="#aaa"  />
<polyline points="80,110 500,110" stroke="#aaa"  />
<polyline points="80,50 500,50" stroke="#aaa"  />
<text x="78" y="355" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="end" >0</text>
<text x="78" y="295" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="end" >20</text>
<text x="78" y="235" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="end" >40</text>
<text x="78" y="175" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="end" >60</text>
<text x="78" y="115" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="end" >80</text>
<text x="78" y="55" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="end" >100</text>
<rect x="100.0" y="50" width="400" height="300" fill="none" />
<text x="280" y="415" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="middle" >Months of follow up</text>
<text x="20" y="200" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777"  text-anchor="middle" transform="rotate(-90 20,200)" >Observed rate [%]</text>
<polyline points="100,258.20 100,243.80" stroke-width="2" stroke="#8d8"  />
<polyline points="97.50,258.20 102.50,258.20" stroke-width="2" stroke="#8d8"  />
<polyline points="97.50,243.80 102.50,243.80" stroke-width="2" stroke="#8d8"  />
<circle cx="100" cy="251" r="6" fill="#8d8" opacity="0.7"/>
<polyline points="100,251 146.15,245" stroke-width="4" stroke="#8d8"  />
<polyline points="146.15,254.30 146.15,235.70" stroke-width="2" stroke="#8d8"  />
<polyline points="143.65,254.30 148.65,254.30" stroke-width="2" stroke="#8d8"  />
<polyline points="143.65,235.70 148.65,235.70" stroke-width="2" stroke="#8d8"  />
<circle cx="146.15" cy="245" r="6" fill="#8d8" opacity="0.7"/>
<polyline points="146.15,245 192.31,260" stroke-width="4" stroke="#8d8"  />
<polyline points="192.31,268.40 192.31,251.60" stroke-width="2" stroke="#8d8"  />
<polyline points="189.81,268.40 194.81,268.40" stroke-width="2" stroke="#8d8"  />
<polyline points="189.81,251.60 194.81,251.60" stroke-width="2" stroke="#8d8"  />
<circle cx="192.31" cy="260" r="6" fill="#8d8" opacity="0.7"/>
<polyline points="192.31,260 284.62,248" stroke-width="4" stroke="#8d8"  />
<polyline points="284.62,259.10 284.62,236.90" stroke-width="2" stroke="#8d8"  />
<polyline points="282.12,259.10 287.12,259.10" stroke-width="2" stroke="#8d8"  />
<polyline points="282.12,236.90 287.12,236.90" stroke-width="2" stroke="#8d8"  />
<circle cx="284.62" cy="248" r="6" fill="#8d8" opacity="0.7"/>
<polyline points="284.62,248 469.23,269" stroke-width="4" stroke="#8d8"  />
<polyline points="469.23,284 469.23,254" stroke-width="2" stroke="#8d8"  />
<polyline points="466.73,284 471.73,284" stroke-width="2" stroke="#8d8"  />
<polyline points="466.73,254 471.73,254" stroke-width="2" stroke="#8d8"  />
<circle cx="469.23" cy="269" r="6" fill="#8d8" opacity="0.7"/>
<polyline points="100,215.90 100,190.10" stroke-width="2" stroke="#88d"  />
<polyline points="97.50,215.90 102.50,215.90" stroke-width="2" stroke="#88d"  />
<polyline points="97.50,190.10 102.50,190.10" stroke-width="2" stroke="#88d"  />
<circle cx="100" cy="203" r="6" fill="#88d" opacity="0.7"/>
<polyline points="100,203 146.15,218" stroke-width="4" stroke="#88d"  />
<polyline points="146.15,229.70 146.15,206.30" stroke-width="2" stroke="#88d"  />
<polyline points="143.65,229.70 148.65,229.70" stroke-width="2" stroke="#88d"  />
<polyline points="143.65,206.30 148.65,206.30" stroke-width="2" stroke="#88d"  />
<circle cx="146.15" cy="218" r="6" fill="#88d" opacity="0.7"/>
<polyline points="146.15,218 192.31,197" stroke-width="4" stroke="#88d"  />
<polyline points="192.31,206.60 192.31,187.40" stroke-width="2" stroke="#88d"  />
<polyline points="189.81,206.60 194.81,206.60" stroke-width="2" stroke="#88d"  />
<polyline points="189.81,187.40 194.81,187.40" stroke-width="2" stroke="#88d"  />
<circle cx="192.31" cy="197" r="6" fill="#88d" opacity="0.7"/>
<polyline points="192.31,197 284.62,176" stroke-width="4" stroke="#88d"  />
<polyline points="284.62,187.40 284.62,164.60" stroke-width="2" stroke="#88d"  />
<polyline points="282.12,187.40 287.12,187.40" stroke-width="2" stroke="#88d"  />
<polyline points="282.12,164.60 287.12,164.60" stroke-width="2" stroke="#88d"  />
<circle cx="284.62" cy="176" r="6" fill="#88d" opacity="0.7"/>
<polyline points="284.62,176 469.23,161" stroke-width="4" stroke="#88d"  />
<polyline points="469.23,179.60 469.23,142.40" stroke-width="2" stroke="#88d"  />
<polyline points="466.73,179.60 471.73,179.60" stroke-width="2" stroke="#88d"  />
<polyline points="466.73,142.40 471.73,142.40" stroke-width="2" stroke="#88d"  />
<circle cx="469.23" cy="161" r="6" fill="#88d" opacity="0.7"/>
<polyline points="100,142.40 100,107.60" stroke-width="2" stroke="#d88"  />
<polyline points="97.50,142.40 102.50,142.40" stroke-width="2" stroke="#d88"  />
<polyline points="97.50,107.60 102.50,107.60" stroke-width="2" stroke="#d88"  />
<circle cx="100" cy="125" r="6" fill="#d88" opacity="0.7"/>
<polyline points="100,125 146.15,140" stroke-width="4" stroke="#d88"  />
<polyline points="146.15,158.30 146.15,121.70" stroke-width="2" stroke="#d88"  />
<polyline points="143.65,158.30 148.65,158.30" stroke-width="2" stroke="#d88"  />
<polyline points="143.65,121.70 148.65,121.70" stroke-width="2" stroke="#d88"  />
<circle cx="146.15" cy="140" r="6" fill="#d88" opacity="0.7"/>
<polyline points="146.15,140 192.31,149" stroke-width="4" stroke="#d88"  />
<polyline points="192.31,161 192.31,137" stroke-width="2" stroke="#d88"  />
<polyline points="189.81,161 194.81,161" stroke-width="2" stroke="#d88"  />
<polyline points="189.81,137 194.81,137" stroke-width="2" stroke="#d88"  />
<circle cx="192.31" cy="149" r="6" fill="#d88" opacity="0.7"/>
<polyline points="192.31,149 284.62,152" stroke-width="4" stroke="#d88"  />
<polyline points="284.62,163.70 284.62,140.30" stroke-width="2" stroke="#d88"  />
<polyline points="282.12,163.70 287.12,163.70" stroke-width="2" stroke="#d88"  />
<polyline points="282.12,140.30 287.12,140.30" stroke-width="2" stroke="#d88"  />
<circle cx="284.62" cy="152" r="6" fill="#d88" opacity="0.7"/>
<polyline points="284.62,152 469.23,119" stroke-width="4" stroke="#d88"  />
<polyline points="469.23,143.60 469.23,94.40" stroke-width="2" stroke="#d88"  />
<polyline points="466.73,143.60 471.73,143.60" stroke-width="2" stroke="#d88"  />
<polyline points="466.73,94.40 471.73,94.40" stroke-width="2" stroke="#d88"  />
<circle cx="469.23" cy="119" r="6" fill="#d88" opacity="0.7"/>
<polyline points="105,61.67 125,61.67" stroke-width="4" stroke="#8d8"  />
<text x="130" y="66.67" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777" >group1</text>
<polyline points="225,61.67 245,61.67" stroke-width="4" stroke="#88d"  />
<text x="250" y="66.67" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777" >group2</text>
<polyline points="345,61.67 365,61.67" stroke-width="4" stroke="#d88"  />
<text x="370" y="66.67" style="font-family: sans-serif; font-weight: bold;" font-size="12pt" fill="#777" >group3</text>
</svg>


<br>
<br>


<pre><span class="purple">


import minplot as p

def example6():

    colnames = [ "time", "group1", "group1sem", "group2", "group2sem", "group3", "group3sem" ]

    dataset = [ [  0, 33, 2.4, 49, 4.3, 75, 5.8 ],
                [  3, 35, 3.1, 44, 3.9, 70, 6.1 ],
                [  6, 30, 2.8, 51, 3.2, 67, 4.0 ],
                [ 12, 34, 3.7, 58, 3.8, 66, 3.9 ],
                [ 24, 27, 5.0, 63, 6.2, 77, 8.2 ] ]
    
    # define our xstubs this way because they are irregularly spaced
    xstubs = [ [ 0, "0" ], [ 3, "3"], [ 6, "6" ], [ 12, "12" ], [ 24, "24" ] ]

    # initialize minplot and begin building our svg...
    p.svgbegin( width=550, height=450 )

    # register our data columns...
    p.datacolumns( namelist=colnames )

    # set a css text style
    textstyle = "font-family: sans-serif; font-weight: bold;"    

    # set up the X axis for time
    p.numspace( axis='X', axmin=0, axmax=26, poslo=100, poshi=500 )

    # set up the Y numerically scaled space... 
    p.numspace( axis='Y', axmin=0.0, axmax=100.0, poslo=100, poshi=400 )
    # with alt1 use: p.numspace( axis='Y', axmin=yrange.axmin, axmax=yrange.axmax, poslo=100, poshi=400 )

    # render X and Y axes...  
    p.lineprops( color='#aaa' )
    p.textprops( ptsize=12, color='#777', cssstyle=textstyle )  
    p.axisrender( axis='X', axisline=False, stublist=xstubs, loc='bottom-10' )
    p.axisrender( axis='Y', axisline=False, grid=True, loc='left-20' )
    p.plotdeco( xlabel="Months of follow up", xlabeladj=(-20,-65), ylabel="Observed rate [%]", ylabeladj=(-80,0) )

    # render the curves 
    for group in ["group1", "group2", "group3"]:
        # use icol() to get array index position from column name
        xcol = p.icol( "time" ) 
        ycol = p.icol( group )
        semcol = p.icol( group + "sem" )

        # color...
        if group == "group1": linecolor = "#8d8"
        elif group == "group2": linecolor = "#88d"
        elif group == "group3": linecolor = "#d88"

        # initialize line style and register a legend item...
        p.lineprops( color=linecolor, width=4 )
        p.legenditem( label=group, sample='line', width=100 )

        # render the curves, error bars, and data points 
        p.curvebegin()
        for row in dataset:
            p.lineprops( width=4 )
            p.curvenext( x=row[xcol], y=row[ycol] )  
            p.lineprops( width=2 )   
            p.errorbar( x=row[xcol], y=row[ycol], erramt=row[semcol] )  
            p.datapoint( x=row[xcol], y=row[ycol], fill=linecolor, diameter=12 )

    # display the legend...
    p.legendrender( location='topleft', format='across' )

    # capture the entire SVG...
    svg = p.svgresult()

    return svg
</span></pre>

</div>

</div> 
</div> 

</body>
</html>